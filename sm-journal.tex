%% This is file `elsarticle-template-1-num.tex',
%%
%% Copyright 2009 Elsevier Ltd
%%
%% This file is part of the 'Elsarticle Bundle'.
%% ---------------------------------------------
%%
%% It may be distributed under the conditions of the LaTeX Project Public
%% License, either version 1.2 of this license or (at your option) any
%% later version.  The latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.2 or later is part of all distributions of LaTeX
%% version 1999/12/01 or later.
%%
%% The list of all files belonging to the 'Elsarticle Bundle' is
%% given in the file `manifest.txt'.
%%
%% Template article for Elsevier's document class `elsarticle'
%% with numbered style bibliographic references
%%
%% $Id: elsarticle-template-1-num.tex 149 2009-10-08 05:01:15Z rishi $
%% $URL: http://lenova.river-valley.com/svn/elsbst/trunk/elsarticle-template-1-num.tex $
%%
\documentclass[preprint,12pt]{elsarticle}

%% Use the option review to obtain double line spacing
%% \documentclass[preprint,review,12pt]{elsarticle}

%% Use the options 1p,twocolumn; 3p; 3p,twocolumn; 5p; or 5p,twocolumn
%% for a journal layout:
%% \documentclass[final,1p,times]{elsarticle}
%% \documentclass[final,1p,times,twocolumn]{elsarticle}
%% \documentclass[final,3p,times]{elsarticle}
%% \documentclass[final,3p,times,twocolumn]{elsarticle}
%% \documentclass[final,5p,times]{elsarticle}
%% \documentclass[final,5p,times,twocolumn]{elsarticle}

%% if you use PostScript figures in your article
%% use the graphics package for simple commands
%% \usepackage{graphics}
%% or use the graphicx package for more complicated commands
%% \usepackage{graphicx}
%% or use the epsfig package if you prefer to use the old commands
%% \usepackage{epsfig}

%% The amssymb package provides various useful mathematical symbols
\usepackage{graphicx}
\usepackage{amssymb}
\setcounter{tocdepth}{3}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{color}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{comment}
\usepackage{booktabs}
\usepackage{nopageno}
\usepackage{sidecap}

\usepackage[algo2e, noend, noline, linesnumbered]{algorithm2e}
%\DontPrintSemicolon

\makeatletter
\newcommand{\pushline}{\Indp}% Indent
\newcommand{\popline}{\Indm}
\makeatother
\DeclareMathOperator{\pess}{pess}
\DeclareMathOperator{\opti}{opti}
\newcommand{\argmax}{\operatornamewithlimits{argmax}}

\captionsetup{compatibility=false}



%\pgfplotsset{compat=newest}
\usetikzlibrary{arrows,shapes,petri}

\newcommand{\bE}{\mathbb{E}}
\newcommand{\cA}{\mathcal{A}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\cN}{\mathcal{N}}
\newcommand{\cO}{\mathcal{O}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cS}{\mathcal{S}}
\newcommand{\cT}{\mathcal{T}}
\newcommand{\cZ}{\mathcal{Z}}
\newcommand{\eg}{{\it e.g.,}~}
\newcommand{\ie}{{\it i.e.,}~}
\newcommand{\defword}[1]{\textbf{\boldmath{#1}}}
\newcommand{\reviewchange}[1]{{\color{blue}#1}}

\definecolor{darkgreen}{RGB}{0,125,0}
\newcounter{mwNoteCounter}
\newcounter{mlNoteCounter}
\newcounter{vlNoteCounter}
\newcounter{bbNoteCounter}
\newcounter{jcNoteCounter}
\newcommand{\mwinands}[1]{{\small \color{blue} $\blacksquare$ \refstepcounter{mwNoteCounter}\textsf{[RGG]$_{\arabic{mwNoteCounter}}$:{#1}}}}
\newcommand{\mlanctot}[1]{{\small \color{darkgreen} $\blacksquare$ \refstepcounter{mlNoteCounter}\textsf{[ML]$_{\arabic{mlNoteCounter}}$:{#1}}}}
\newcommand{\vlisy}[1]{{\small \color{red} $\blacktriangle$ \refstepcounter{vlNoteCounter}\textsf{[VL]$_{\arabic{vlNoteCounter}}$:{#1}}}}
\newcommand{\bbosansky}[1]{{\small \color{orange} $\blacktriangle$ \refstepcounter{bbNoteCounter}\textsf{[BB]$_{\arabic{bbNoteCounter}}$:{#1}}}}
\newcommand{\jcermak}[1]{{\small \color{violet} $\blacktriangle$ \refstepcounter{jcNoteCounter}\textsf{[JC]$_{\arabic{jcNoteCounter}}$:{#1}}}}
%\renewcommand{\mwinands}[1]{}
%\renewcommand{\mlanctot}[1]{}
%\renewcommand{\vlisy}[1]{}
%\renewcommand{\bbosansky}[1]{}
%\renewcommand{\jcermak}[1]{}


\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}

\newenvironment{proof}[1][Proof]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}

\newcommand{\doab}[0]{\textrm{DO}\alpha\beta}
\newcommand{\biab}[0]{\textrm{BI}\alpha\beta}
\newcommand{\bdoab}[0]{\textrm{\bf DO}\boldsymbol{\alpha\beta}}
\newcommand{\bbiab}[0]{\textrm{\bf BI}\boldsymbol{\alpha\beta}}


%% The amsthm package provides extended theorem environments
%% \usepackage{amsthm}

%% The lineno packages adds line numbers. Start line numbering with
%% \begin{linenumbers}, end it with \end{linenumbers}. Or switch it on
%% for the whole article with \linenumbers after \end{frontmatter}.
%% \usepackage{lineno}

%% natbib.sty is loaded by default. However, natbib options can be
%% provided with \biboptions{...} command. Following options are
%% valid:

%%   round  -  round parentheses are used (default)
%%   square -  square brackets are used   [option]
%%   curly  -  curly braces are used      {option}
%%   angle  -  angle brackets are used    <option>
%%   semicolon  -  multiple citations separated by semi-colon
%%   colon  - same as semicolon, an earlier confusion
%%   comma  -  separated by comma
%%   numbers-  selects numerical citations
%%   super  -  numerical citations as superscripts
%%   sort   -  sorts multiple citations according to order in ref. list
%%   sort&compress   -  like sort, but also compresses numerical citations
%%   compress - compresses without sorting
%%
%% \biboptions{comma,round}

% \biboptions{}

\pagenumbering{arabic}
\journal{Artificial Intelligence}

\begin{document}

\begin{frontmatter}

%% Title, authors and addresses

%% use the tnoteref command within \title for footnotes;
%% use the tnotetext command for the associated footnote;
%% use the fnref command within \author or \address for footnotes;
%% use the fntext command for the associated footnote;
%% use the corref command within \author for corresponding author footnotes;
%% use the cortext command for the associated footnote;
%% use the ead command for the email address,
%% and the form \ead[url] for the home page:
%%
%% \title{Title\tnoteref{label1}}
%% \tnotetext[label1]{}
%% \author{Name\corref{cor1}\fnref{label2}}
%% \ead{email address}
%% \ead[url]{home page}
%% \fntext[label2]{}
%% \cortext[cor1]{}
%% \address{Address\fnref{label3}}
%% \fntext[label3]{}

\title{Algorithms for Computing Strategies in Two-Player Simultaneous Move Games}
% Offline and Online Strategy Computation in Zero-Sum Simultaneous Move Games

%% use optional labels to link authors explicitly to addresses:
%% \author[label1,label2]{<author name>}
%% \address[label1]{<address>}
%% \address[label2]{<address>}

\author[1]{Branislav Bo{\v s}ansk{\' y}$^1$}%\footnote{Corresponding author; phone: +420 22435 7581}}
\author[1]{Viliam Lis\'{y}}
\author[2]{Marc Lanctot}
\author[1]{Ji{\v r}{\' i} {\v C}erm{\' a}k}
\author[2]{\\Mark H.M. Winands}
\address[1]{Agent Technology Center, Department of Computer Science,\\ Faculty of Electrical Engineering, Czech Technical University in Prague\\
Technicka 2, 166 27 Prague 6, Czech Republic\\
\{branislav.bosansky,viliam.lisy,jiri.cermak\}@agents.fel.cvut.cz\\
$^1$Corresponding author; phone: +420 22435 7581
}
\address[2]{Games and AI Group, Department of Knowledge Engineering, Maastricht University, \\P.O. Box 616, 6200 MD, Maastricht, The Netherlands\\
\{marc.lanctot,m.winands\}@maastrichtuniversity.nl\vspace{-0.5cm}}

%Author list (+ corresponding author), affiliations, and contact info 
%needed\footnote{\mlanctot{A lot of information is required on this title page... see AIJ guidelines}}}

%\address{}
\begin{abstract}
Simultaneous move games model discrete, multistage interactions where at each stage 
players choose their actions simultaneously. This formalism has been used to express
games in general game playing and can model discrete approximations of realistic scenarios 
such as real-time decision-making in a physical environment. 
In this paper, we survey the existing literature on algorithms that compute strategies 
for two-player zero-sum simultaneous move games and describe our recent algorithms that advance the state of the art.
The algorithms include both backward induction methods with efficient pruning, as well as Monte Carlo sampling algorithms.
We evaluate the algorithms in two settings: the offline case, where computational 
resources are abundant and closely approximating the optimal strategy is a priority, and 
the online search case, where computational resources are limited and acting quickly is necessary.
Thorough experimental evaluation in six substantially different games shows that the proposed algorithms can compute the 
optimal strategy in less then 2\% of the time required by existing algorithms. Furthermore, a new sampling algorithm
based on regret matching, dominates in the head-to-head tournament compared to 
existing methods.
\end{abstract}

\begin{keyword}
%% keywords here, in the form: keyword \sep keyword
simultaneous move games \sep backward induction \sep Monte Carlo tree search \sep alpha-beta pruning \sep double-oracle algorithm \sep regret matching \sep game playing \sep Nash equilibrium

%% MSC codes here, in the form: \MSC code \sep code
%% or \MSC[2008] code \sep code (2000 is the default)
\end{keyword}

\end{frontmatter}

%%
%% Start line numbering here if you want
%%
% \linenumbers
%% The Appendices part is started with the command \appendix;
%% appendix sections are then done as normal sections
%% \appendix

%% \section{}
%% \label{}

%% References
%%
%% Following citation commands can be used in the body text:
%% Usage of \cite is as follows:
%%   \cite{key}          ==>>  [#]
%%   \cite[chap. 2]{key} ==>>  [#, chap. 2]
%%   \citet{key}         ==>>  Author [#]

%% References with bibTeX database:

%% main text
\section{Introduction}
\label{sec:intro}
\bbosansky{unify subgame/sub-game; subfigure/sub-figure; etc.}
Strategic decision-making in multiagent environments is an important problem in artificial intelligence. 
With the growing number of agents interacting with humans and with each other, the need to 
understand these strategic interactions at a fundamental level is becoming increasingly important. 
Today, agent interactions occur in many diverse situations, such as e-commerce, social networking, and 
general-purpose robotics, each of which create complex problems that arise from conflicting agent 
preferences. 

Much research has been devoted to developing algorithms that reason about or learn in sequential (or multi-step) 
interactions. As an example, adversarial search has been a central topic of artificial intelligence 
since the inception of the field itself, leading to very strong rational behavior in 
Chess~\cite{Campbell02deepblue} and Checkers~\cite{Schaeffer96chinook}. Advances in machine learning for multi-step interactions 
(\eg reinforcement learning) have led to self-play learning of evaluation function achieving master level play 
in Backgammon~\cite{Tesauro95TDGammon} and super-human play in Atari~\cite{mnih-atari-2013,mnih-dqn-2015}.

The most common model for these multistage environments is one with strictly {\it sequential} 
interactions. That is, each player chooses an action when it is their turn to act, and the environment 
generates a new state, with the next player's turn to act, and so on. This model is sufficient in many 
settings~\cite{AIbook}, such as in the examples used above, but it is not a good representation of the 
environment when agents are allowed to act simultaneously, such as in real-world situations like auctions and 
autonomous driving. 

One of the key differences compared to strictly sequential 
games is that the agents may need to use randomized (or \textit{mixed}) strategies in order to 
play optimally~\cite{Gintis09}, 
\ie to maximize their worst-case expected utility.
This means that agents may need to randomize over several actions in some situations of the game. 
This does not occur in strictly sequential games, where optimal solution always exists in deterministic 
(or \textit{pure}) strategies.
In our analysis, we cover both the offline case, where computation time is 
abundant and strategies are computed and stored, and the online case, where computation time is limited and 
agents must search online. We are concerned both with the quality of strategies based on 
their worst-case performance in theory and their observed performance in practice. We compare and 
contrast the algorithms and choices in the offline and online cases, and thoroughly evaluate each 
algorithm on a suite of games. Our collection covers Biased Rock, Paper Scissors, Goofspiel, Oshi-Zumo, 
Pursuit Evasion Games, and Tron, all of which have been used for benchmark purposes
in the previous work, and we also perform experiments on randomly generated games. These games differ 
in number of possible actions, number of moves before the game ends, variance of the utility values,
and whether and when the agents need to use mixed strategies in order to play optimally.

Our experimental comparison shows different performance of the algorithms in both cases.
In the offline case, the fastest exact algorithms based on backward induction are able to solve the game very quickly. 
In some cases, our novel algorithm ($\doab$) solves the game in less than 2\% of time required by standard backward 
induction algorithm.
However, the exact algorithms are less competitive in the online settings. 
On the other hand, approximative sampling algorithms can perform very well in the online setting and 
find very good strategies to play within a few seconds, however, they are not well suited for offline solving of games. 
% mlanctot: OOS will, right? Are you referring to Biased RPS? This is not really new.. 
%As we will show, even for a small game they may not converge to an exact solution in a reasonable time.

The paper is structured as follows. \reviewchange{First, we make explicit the contributions of the paper in Subsection~\ref{sec:contrib}.}
In Section~\ref{sec:smg}, we present a formal introduction of simultaneous move games that we will use throughout the paper. 
Section~\ref{sec:relwork} follows with a list and analysis of the existing algorithms in the related work. In 
Section~\ref{sec:offline}, we describe in detail selected exact and approximative algorithms.
We first describe the algorithms in the offline setting, followed by the necessary modifications used in the online 
case described in Section~\ref{sec:online}.
%\reviewchange{In Section~\ref{sec:theory}, we discuss the theoretical guarantees and limitations of the algorithms.}
In Section~\ref{sec:eval}, we turn to the experimental evaluation and present our results of comparing of the algorithms.
Finally, we conclude in Section~\ref{sec:conc}.

\reviewchange{
\subsection{Novel Contributions}
\label{sec:contrib}

% mlanctot: added this one
% bbosansky: I have reworded mentioning UCT, since we have not discussed MCTS, nor UCB/UCT here
% mlanctot: I added it back in (Mark mentioned it)-- it's very popular, I don't think it will be a problem
This paper presents detailed descriptions of recent exact~\cite{Bosansky13Using} and approximative
algorithms~\cite{Lanctot13Goofspiel,lisy2013-nips} to compute strategies for two-player simultaneous move class of games.
While the paper does act in some way as a survey of existing work in this area and as a means to present this previous work under a single unified framework, we also make several new contributions that have not been previously published.

Original contributions made by this paper include:

\begin{itemize}
% Just don't have time for these
%\item A new algorithm, $\epsilon$-minimax, a variant of Littman's Minimax-Q~\cite{Littman94markovgames} adapted for online search. (**Marc is considering implementing it.. is it too much?
%\item A new variant of Exp3 based on recent work (Exp3++ \cite{2014}). (**Marc is considering implementing it.. is it too much?)
\item A detailed analysis of the original convergence analysis of a well-known approximative algorithm search algorithm UCT from \cite{Shafiei09}, showing also its sensitivity and a significant detrimental effect caused by deterministic exploration.
\item A first analysis of backward induction and double-oracle algorithms with serialized bounds in the online search setting using heuristic evaluation functions.
\item An analysis and evaluation of these algorithms in two different computational contexts: offline computation and online search, in five different games as well as random games.
\item An equivalent and simplified version of Online Outcome Sampling~\cite{15aamas-iioos} and its analysis for the first time in two-player simultaneous move games.
\end{itemize}

}

\section{Simultaneous Move Games}  \label{sec:smg}

\input{smgames.tex} 

\section{Related Work} \label{sec:relwork}

\input{related.tex}

\section{Strategy Computation} \label{sec:offline}

\input{offline.tex} 

\section{Online Search} \label{sec:online}

\input{online.tex}

%\reviewchange{
%\section{Theoretical Guarantees and Limitations}
%\input{theory.tex} \label{sec:theory}
%}

\section{Empirical Evaluation} \label{sec:eval}

\input{evaluation.tex}

\section{Conclusion} \label{sec:conc}

\input{conclusion.tex}

\section*{References}
\bibliographystyle{elsarticle-num}
\bibliography{sm-journal}

%% Authors are advised to submit their bibtex database files. They are
%% requested to list a bibtex style file in the manuscript if they do
%% not want to use model1-num-names.bst.

%% References without bibTeX database:

% \begin{thebibliography}{00}

%% \bibitem must have the following form:
%%   \bibitem{key}...
%%

% \bibitem{}

% \end{thebibliography}

\input{vitae.tex}


\end{document}

%%
%% End of file `elsarticle-template-1-num.tex'.
